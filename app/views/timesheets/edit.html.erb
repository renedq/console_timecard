<div class='page-header'>
  <h1>Editing Timesheet</h1>
</div>

<div class='well bs-component'>
  <%= form_for(@timesheet, url: timesheet_path, method: :put, html: { class: 'form-horizontal', multipart: true}) do |f| %>
    <% if @timesheet.errors.any? %>
    <fieldset>
        <div id="error_explanation">
          <h2><%= pluralize(@timesheet.errors.count, "error") %> prohibited this @timesheet from being saved:</h2>

          <ul>
          <% @timesheet.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <div class='form-group'>
        <%= f.label :vendor, class: 'col-lg-2' %>
        <div class='col-lg-10'>
          <%= f.select :vendor, Vendor.dropdown, class: 'form-control', required: true %>
        </div>
      </div>

      <div class='form-group'>
        <%= f.label :timesheet_type, class: 'col-lg-2' %>
        <div class='col-lg-10'>
          <%= f.select :timesheet_type, [['Lunch','Lunch']] %>
        </div>
      </div>      

      <div class='form-group'>
        <%= f.label :timesheet_date, class: 'col-lg-2' %>
        <div class='col-lg-10'>
          <div class="input-group bootstrap-timepicker timepicker">
              <input type="text" data-provide="datepicker" class="form-control" name="timesheet[timesheet_date]" value="<%= @timesheet.timesheet_date.strftime('%m/%d/%Y') %>">
            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
          </div>
        </div>
      </div>

      <div class='form-group'>
        <%= f.label :details, class: 'col-lg-2' %>
        <div class='col-lg-10'>
          <div>Add (V) - Vegan, (VT) - Vegetarian, (GF) - Gluten Free, (N) - Contains Nuts</div>
          <%= f.text_area :details, class: 'form-control', required: true %>
        </div>
      </div>      

      <div class="actions">
        <%= f.submit %>
      </div>
    <fieldset>
  <% end %>
</div>

<script type="application/javascript">
$(document).ready( function() {
    $('#timesheet_name').focus().select();
});
</script>

<%= link_to 'Back', admin_timesheet_path(id: @timesheet.id) %> |
<%= link_to 'All timesheets', admin_timesheets_path %> |
<%= link_to 'Delete', timesheet_path(id: @timesheet.id), method: :delete, data: { confirm: 'Are you sure you want to delete this timesheet?' } %>
